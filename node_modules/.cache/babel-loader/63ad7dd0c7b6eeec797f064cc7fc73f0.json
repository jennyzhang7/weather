{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/jennyzhang/Desktop/weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jennyzhang/Desktop/weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jennyzhang/Desktop/weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import\"./App.css\";import image from\"./questionmark.png\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),results=_useState2[0],setResults=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),longitude=_useState4[0],setLongitude=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),latitude=_useState6[0],setLatitude=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isFahrenheit=_useState8[0],setIsFahrenheit=_useState8[1];useEffect(function(){getLocation();},[]);var x=document.getElementById(\"demo\");function getLocation(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(showPosition);console.log(\"Longitude\"+longitude);console.log(\"Latitude\"+latitude);}else{x.innerHTML=\"Geolocation is not supported by this browser.\";}}function showPosition(position){console.log(position);setLongitude(String(position.coords.longitude));setLatitude(String(position.coords.latitude));}var convertToFahrenheit=function convertToFahrenheit(kelvinTemp){return((kelvinTemp-273.15)*9/5+32).toFixed(2);};var convertToCelcius=function convertToCelcius(kelvinTemp){return(kelvinTemp-273.15).toFixed(2);};var getTemperature=function getTemperature(kelvinTemp){if(isFahrenheit){return convertToFahrenheit(kelvinTemp);}else{return convertToCelcius(kelvinTemp);}};var getMeasurement=function getMeasurement(){if(isFahrenheit){return\"째 F\";}else{return\"째 C\";}};var toggleMeasurement=function toggleMeasurement(){setIsFahrenheit(!isFahrenheit);};var fetchWeatherData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,dataPoint;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(results.length);if(!(latitude!==\"\"||longitude!==\"\")){_context.next=12;break;}_context.next=4;return fetch(\"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(latitude,\"&lon=\").concat(longitude,\"&appid=\").concat(process.env.REACT_APP_API_KEY));case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;console.log(data);dataPoint={temp:data.main.temp,city:data.name,icon:data.weather[0].icon};setResults(dataPoint);console.log(results);case 12:case\"end\":return _context.stop();}}},_callee);}));return function fetchWeatherData(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"demo\",children:[results.length===0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"dance\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Click on button below to check out today's weather forecast\"})]}),\"a\",results.length!==0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://openweathermap.org/img/wn/\".concat(results.icon,\"@2x.png\"),alt:\"Logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:results.city}),/*#__PURE__*/_jsxs(\"h2\",{children:[getTemperature(results.temp),\" \",getMeasurement()]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return fetchWeatherData();},children:\"Get Weather\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return toggleMeasurement();},children:\"Celcius/Fahrenheit\"})]});}export default App;","map":{"version":3,"sources":["/Users/jennyzhang/Desktop/weather/src/App.js"],"names":["useState","useEffect","image","App","results","setResults","longitude","setLongitude","latitude","setLatitude","isFahrenheit","setIsFahrenheit","getLocation","x","document","getElementById","navigator","geolocation","getCurrentPosition","showPosition","console","log","innerHTML","position","String","coords","convertToFahrenheit","kelvinTemp","toFixed","convertToCelcius","getTemperature","getMeasurement","toggleMeasurement","fetchWeatherData","length","fetch","process","env","REACT_APP_API_KEY","response","json","data","dataPoint","temp","main","city","name","icon","weather"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport image from \"./questionmark.png\";\n\nfunction App() {\n  const [results, setResults] = useState([]);\n  const [longitude, setLongitude] = useState(\"\");\n  const [latitude, setLatitude] = useState(\"\");\n\n  const [isFahrenheit, setIsFahrenheit] = useState(true);\n\n  useEffect(() => {\n    getLocation();\n  }, []);\n\n  var x = document.getElementById(\"demo\");\n  function getLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(showPosition);\n      console.log(\"Longitude\" + longitude);\n      console.log(\"Latitude\" + latitude);\n\n    } else {\n      x.innerHTML = \"Geolocation is not supported by this browser.\";\n    }\n  }\n\n  function showPosition(position) {\n    console.log(position);\n    setLongitude(String(position.coords.longitude));\n    setLatitude(String(position.coords.latitude));\n  }\n\n  const convertToFahrenheit = (kelvinTemp) => {\n    return (((kelvinTemp - 273.15) * 9) / 5 + 32).toFixed(2);\n  };\n\n  const convertToCelcius = (kelvinTemp) => {\n    return (kelvinTemp - 273.15).toFixed(2);\n  };\n\n  const getTemperature = (kelvinTemp) => {\n    if (isFahrenheit) {\n      return convertToFahrenheit(kelvinTemp);\n    } else {\n      return convertToCelcius(kelvinTemp);\n    }\n  };\n\n  const getMeasurement = () => {\n    if (isFahrenheit) {\n      return \"째 F\";\n    } else {\n      return \"째 C\";\n    }\n  };\n\n  const toggleMeasurement = () => {\n    setIsFahrenheit(!isFahrenheit);\n  };\n\n  const fetchWeatherData = async () => {\n    console.log(results.length)\n    if (latitude !== \"\" || longitude !== \"\") {\n      const response = await fetch(\n        `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${process.env.REACT_APP_API_KEY}`\n      );\n\n      const data = await response.json();\n      console.log(data);\n      const dataPoint = {\n        temp: data.main.temp,\n        city: data.name,\n        icon: data.weather[0].icon,\n      };\n      setResults(dataPoint);\n      console.log(results);\n    }\n  };\n  return (\n    <div className=\"App\">\n      <div id=\"demo\">\n      {(results.length === 0) && (\n          <>\n            <img src={image} alt=\"dance\"></img>\n            <h2>\n              Click on button below to check out today's weather forecast\n            </h2>\n          </>\n        )}a\n        {(results.length !== 0) && (\n          <>\n            <img\n              src={`http://openweathermap.org/img/wn/${results.icon}@2x.png`}\n              alt=\"Logo\"\n            />\n            <h1>{results.city}</h1>\n            <h2>\n              {getTemperature(results.temp)} {getMeasurement()}\n            </h2>\n          </>\n        )}\n      </div>\n\n      <button type=\"button\" onClick={() => fetchWeatherData()}>\n        Get Weather\n      </button>\n\n      <button type=\"button\" onClick={() => toggleMeasurement()}>\n        Celcius/Fahrenheit\n      </button>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}